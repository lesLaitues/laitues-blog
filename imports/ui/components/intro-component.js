import { Template } from 'meteor/templating';

import { AsciiMorph } from '../lib/asciiMorph';

import './intro-component.html';

Template.introComponent.rendered = () => {
	Meteor.setTimeout(() => {
		AsciiMorph(document.getElementById('morph-section'), { x: 51, y: 28 });

		const asciis = [
			[
				"   ,--,                                 ,----,                                  ",
				",---.'|                               ,/   .`|                                  ",
				"|   | :      ,---,         ,---,    ,`   .'  :               ,---,.  .--.--.    ",
				":   : |     '  .' \\     ,`--.' |  ;    ;     /       ,--,  ,'  .' | /  /    '.  ",
				"|   ' :    /  ;    '.   |   :  :.'___,/    ,'      ,'_ /|,---.'   ||  :  /`. /  ",
				";   ; '   :  :       \\  :   |  '|    :     |  .--. |  | :|   |   .';  |  |--`   ",
				"'   | |__ :  |   /\\   \\ |   :  |;    |.';  ;,'_ /| :  . |:   :  |-,|  :  ;_     ",
				"|   | :.'||  :  ' ;.   :'   '  ;`----'  |  ||  ' | |  . .:   |  ;/| \\  \\    `.  ",
				"'   :    ;|  |  ;/  \\   \\   |  |    '   :  ;|  | ' |  | ||   :   .'  `----.   \\ ",
				"|   |  ./ '  :  | \\  \\ ,'   :  ;    |   |  ':  | | :  ' ;|   |  |-,  __ \\  \\  | ",
				";   : ;   |  |  '  '--' |   |  '    '   :  ||  ; ' |  | ''   :  ;/| /  /`--'  / ",
				"|   ,/    |  :  :       '   :  |    ;   |.' :  | : ;  ; ||   |    \\'--'.     /  ",
				"'---'     |  | ,'       ;   |.'     '---'   '  :  `--'   \\   :   .'  `--'---'   ",
				"          `--''         '---'               :  ,      .-./   | ,'               ",
				"                                             `--`----'   `----'                 "
			],

			[
				"         _             _                    _        _      _                  _           _       ",
				"        _\\ \\          / /\\                 /\\ \\     /\\ \\   /\\_\\               /\\ \\        / /\\     ",
				"       /\\__ \\        / /  \\                \\ \\ \\    \\_\\ \\ / / /         _    /  \\ \\      / /  \\    ",
				"      / /_ \\_\\      / / /\\ \\               /\\ \\_\\   /\\__ \\\\ \\ \\__      /\\_\\ / /\\ \\ \\    / / /\\ \\__ ",
				"     / / /\\/_/     / / /\\ \\ \\             / /\\/_/  / /_ \\ \\\\ \\___\\    / / // / /\\ \\_\\  / / /\\ \\___\\",
				"    / / /         / / /  \\ \\ \\           / / /    / / /\\ \\ \\\\__  /   / / // /_/_ \\/_/  \\ \\ \\ \\/___/",
				"   / / /         / / /___/ /\\ \\         / / /    / / /  \\/_// / /   / / // /____/\\      \\ \\ \\      ",
				"  / / / ____    / / /_____/ /\\ \\       / / /    / / /      / / /   / / // /\\____\\/  _    \\ \\ \\     ",
				" / /_/_/ ___/\\ / /_________/\\ \\ \\  ___/ / /__  / / /      / / /___/ / // / /______ /_/\\__/ / /     ",
				"/_______/\\__\\// / /_       __\\ \\_\\/\\__\\/_/___\\/_/ /      / / /____\\/ // / /_______\\\\ \\/___/ /      ",
				"\\_______\\/    \\_\\___\\     /____/_/\\/_________/\\_\\/       \\/_________/ \\/__________/ \\_____\\/       ",
				"                                                                                                   "
			],

			[
				"          (`-')  _   _     (`-')                 (`-')  _ (`-').->",
				"   <-.    (OO ).-/  (_)    ( OO).->       .->    ( OO).-/ ( OO)_  ",
				" ,--. )   / ,---.   ,-(`-')/    '._  ,--.(,--.  (,------.(_)--\\_) ",
				" |  (`-') | \\ /`.\\  | ( OO)|'--...__)|  | |(`-') |  .---'/    _ / ",
				" |  |OO ) '-'|_.' | |  |  )`--.  .--'|  | |(OO )(|  '--. \\_..`--. ",
				"(|  '__ |(|  .-.  |(|  |_/    |  |   |  | | |  \\ |  .--' .-._)   \\",
				" |     |' |  | |  | |  |'->   |  |   \\  '-'(_ .' |  `---.\\       /",
				" `-----'  `--' `--' `--'      `--'    `-----'    `------' `-----' "
			]
		];

		AsciiMorph.render(asciis[0]);

		let currentIndex = 1;

		Meteor.setInterval(function () {
			AsciiMorph.morph(asciis[currentIndex]);
			currentIndex++;
			currentIndex %= asciis.length;
		}, 3000);
	}, 42);
};